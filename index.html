<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moderation Training Simulator</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect } = React;
        
        const demoCases = [
          {
            id: "CASE_001", type: "text_chat", reportedBy: "xXSniperKing_2009Xx", timestamp: "2024-12-15 21:47:33 EST",
            content: `[21:43] TTV_DominatorYT: yooo gg ez squad wipe
[21:44] TTV_DominatorYT: yo sniper u got a mic??
[21:44] xXSniperKing_2009Xx: nah my parents wont let me lol
[21:44] TTV_DominatorYT: lmaoo how old r u
[21:44] xXSniperKing_2009Xx: im 12
[21:45] TTV_DominatorYT: yo add me on discord we can run more games
[21:45] TTV_DominatorYT: ill carry u to champs no cap
[21:46] TTV_DominatorYT: DominatorYT#4829
[21:47] TTV_DominatorYT: aye whats ur insta too
[21:47] xXSniperKing_2009Xx: idk if i should give that
[21:47] TTV_DominatorYT: nah ur good bro im not weird lmaoo
[21:48] TTV_DominatorYT: plus i can send u some free vbucks codes fr
[21:48] xXSniperKing_2009Xx: wait fr???`,
            metadata: {gameMode: "Battle Royale", playerCount: "3", platform: "PC"},
            correct: "Child Safety"
          },
          {
            id: "CASE_002", type: "text_chat", reportedBy: "LilTimmy_2010", timestamp: "2024-12-16 15:23:11 EST",
            content: `[15:20] SkullCrusher1488: ez clap
[15:21] SkullCrusher1488: u guys wanna squad up again
[15:22] SkullCrusher1488: [1488] we only take the best players
[15:22] SkullCrusher1488: no bots allowed, gotta keep it pure yk
[15:22] xX_DarkLord_Xx: lol "pure"
[15:22] SkullCrusher1488: yeah we got standards, no randoms`,
            metadata: {gameMode: "Battle Royale", playerCount: "3", platform: "PC"},
            correct: "Intolerance and Discrimination"
          },
          {
            id: "CASE_003", type: "text_chat", reportedBy: "ProGamer_Sarah", timestamp: "2024-12-16 19:45:22 EST",
            content: `[19:44] ToxicKing: BRUH HOW DID U HIT THAT
[19:44] ProGamer_Sarah: lol just good aim
[19:44] ToxicKing: nah ur cheating
[19:45] ToxicKing: girls cant be this good ur def hacking
[19:45] ToxicKing: prob got ur bf playing for u
[19:45] ToxicKing: go back to the kitchen this aint for u
[19:46] ToxicKing: shouldnt even let females play this game`,
            metadata: {gameMode: "Creative 1v1", playerCount: "2", platform: "Console"},
            correct: "Intolerance and Discrimination"
          },
          {
            id: "CASE_004", type: "text_chat", reportedBy: "NoobPlayer123", timestamp: "2024-12-17 20:15:44 EST",
            content: `[20:12] MLG_Pr0_2003: bruh noob ur trash
[20:12] NoobPlayer123: my bad still learning
[20:12] MLG_Pr0_2003: how r u this bad lmaooo
[20:13] xXxShadowxXx: chill man hes new
[20:13] MLG_Pr0_2003: nah this is painful to watch
[20:13] MLG_Pr0_2003: legit braindead gameplay
[20:13] NoobPlayer123: dude stop
[20:14] MLG_Pr0_2003: uninstall the game u suck`,
            metadata: {gameMode: "Battle Royale", playerCount: "3", platform: "PC"},
            correct: "Bullying and Harassment"
          },
          {
            id: "CASE_005", type: "text_chat", reportedBy: "System", timestamp: "2024-12-17 22:30:15 EST",
            content: `[22:26] FortniteMaster: doing vbucks giveaway rn
[22:26] RandomPlayer42: oh shit fr?
[22:26] FortniteMaster: yeah but u gotta verify ur account first
[22:26] FortniteMaster: click this link: fornite-free-vbucks dot net
[22:27] FortniteMaster: just enter ur epic login and u get 10000 vbucks
[22:27] FortniteMaster: nah bro its legit trust me`,
            metadata: {gameMode: "Battle Royale", playerCount: "2", platform: "PC"},
            correct: "Scams and Deceptive Practices"
          }
        ];

        const feedbackDatabase = {
          "Child Safety": {
            right: ["Identified child safety violation", "Recognized grooming pattern", "Noted age disclosure"],
            missed: ["Adult requesting private contact with 12yr old", "Off-platform communication (Discord, Instagram)", "Gift offers (V-bucks) as trust-building", "Isolation tactic after third player left", "Reassurance language 'im not weird'"],
            flags: ["Age 12 disclosed", "Discord request", "Instagram request", "Free V-bucks bait", "Moving off-platform"],
            nuances: "Grooming disguised as mentorship. Starts friendly, escalates through: rapport‚Üíisolate‚Üígifts‚Üípersonal info‚Üíoff-platform",
            policy: "Epic Child Safety: 'grooming = contacting child to establish trust for exploitation'. Pattern here shows textbook grooming indicators.",
            impact: "Missing grooming cases = real child harm. Requires permanent ban + NCMEC report per law.",
            tips: ["Note when users reveal age <18", "Watch isolation patterns", "Off-platform requests with minors = red flag", "Gifts/incentives = grooming tactic"]
          },
          "Intolerance and Discrimination": {
            right: ["Identified discriminatory content", "Recognized hate speech", "Noted protected class targeting"],
            missed: ["1488 = Nazi dogwhistle (14 words + 88=HH)", "Language about 'pure' + 'standards' = supremacist", "Gender-based skill denial + stereotypes", "Exclusionary statements based on identity"],
            flags: ["Username contains 1488", "Language: 'pure', 'standards'", "Kitchen comment (gender stereotype)", "Females 'shouldn't play'", "Skill denial based on gender"],
            nuances: "Coded hate requires cultural knowledge. 1488 with 'pure' confirms intent. Gender harassment starts with skill denial, escalates to exclusion.",
            policy: "Epic: 'do not demean, marginalize, use hateful language against groups based on race, gender, etc.'",
            impact: "Hate symbols create unsafe spaces. Gender harassment drives women from gaming. Consistent enforcement protects diversity.",
            tips: ["Learn dogwhistles: 1488, 88, 14", "Context matters: 'pure'+'standards'+1488 = hate", "Skill denial + gender = harassment pattern", "'You don't belong' based on identity = discrimination"]
          },
          "Bullying and Harassment": {
            right: ["Identified sustained harassment", "Recognized hostile pattern", "Noted victim response"],
            missed: ["Multiple insults targeting one player", "Victim asked to stop - ignored", "New player being bullied by experienced player", "Third party defended victim", "Victim left due to harassment"],
            flags: ["Repeated insults (trash, braindead)", "Victim said 'dude stop'", "Another player: 'chill man'", "Escalating language", "Victim quit"],
            nuances: "Trash talk vs harassment: (1)target reaction (2)power dynamic (3)persistence. Victim asked to stop, continued, left = harassment.",
            policy: "Epic: 'demeaning, derogatory, intimidating behavior is against rules'. Repeated 'trash'+'braindead'+'uninstall' = hostile environment.",
            impact: "New player harassment drives early quits. Most players who leave do so in first 2 weeks due to toxicity.",
            tips: ["When victim says 'stop' = boundary crossed", "Third party defense confirms harassment", "New player harassment = particularly harmful", "Forcing someone to leave = successful bullying"]
          },
          "Scams and Deceptive Practices": {
            right: ["Identified scam attempt", "Recognized phishing tactic", "Noted fake website"],
            missed: ["Phishing for account credentials", "Misspelled URL (fornite not fortnite)", "Requests Epic login", "Free V-bucks = bait", "Fake legitimacy claims"],
            flags: ["Promise of free V-bucks", "External website link", "Misspelled URL", "Requests login info", "'Trust me bro'", "Verification social engineering"],
            nuances: "Phishing exploits desire for free currency. Creates urgency, false legitimacy, social engineering. Misspelled URL harvests credentials.",
            policy: "Epic: explicitly prohibits 'seeking account information, scams or deceptive practices'. This is textbook credential theft.",
            impact: "Account theft = stolen payment info, lost content, account used for more scams, identity theft. One scammer victimizes hundreds.",
            tips: ["External links for 'giveaways' = suspicious", "Legitimate giveaways never need login", "Misspelled URLs are intentional", "Verification requests = social engineering"]
          }
        };

        const App = () => {
          const [caseIdx, setCaseIdx] = useState(0);
          const [decision, setDecision] = useState('');
          const [justification, setJustification] = useState('');
          const [feedback, setFeedback] = useState(null);
          const [stats, setStats] = useState({total: 0, correct: 0});
          const [loading, setLoading] = useState(false);

          const currentCase = demoCases[caseIdx];
          const categories = ['Personal Information/Doxxing', 'Intolerance and Discrimination', 'Bullying and Harassment', 'Impersonation', 'Cheating and Trolling', 'Dangerous or Illegal Activities', 'Child Safety', 'Inappropriate Content', 'Scams and Deceptive Practices', 'No Violation'];

          const submit = () => {
            if (!decision || !justification.trim()) {alert('Select category and justify'); return;}
            setLoading(true);
            setTimeout(() => {
              const correct = decision === currentCase.correct;
              const words = justification.trim().split(' ').length;
              const hasPolicy = /epic|policy|grooming|harassment|discrimination|scam/i.test(justification);
              let score = correct ? 50 : 0;
              if (words > 20 && hasPolicy) score += 40;
              else if (words > 10) score += 20;
              const fb = feedbackDatabase[currentCase.correct] || {};
              setFeedback({
                correct, score: Math.min(score, 100),
                categoryCorrect: correct,
                reasoning: score > 70 ? 'excellent' : score > 50 ? 'good' : score > 30 ? 'fair' : 'poor',
                overall: correct ? `Correct! Score: ${score}/100. ${fb.policy || ''}` : `Incorrect. Correct answer: ${currentCase.correct}. ${fb.policy || ''}`,
                right: correct ? fb.right : [],
                missed: !correct ? fb.missed : [],
                flags: fb.flags || [],
                nuances: fb.nuances || '',
                policy: fb.policy || '',
                impact: fb.impact || '',
                tips: fb.tips || []
              });
              setStats(s => ({total: s.total + 1, correct: s.correct + (correct ? 1 : 0)}));
              setLoading(false);
            }, 1000);
          };

          const next = () => {
            setCaseIdx((caseIdx + 1) % demoCases.length);
            setDecision('');
            setJustification('');
            setFeedback(null);
          };

          return (
            <div className="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white p-6">
              <div className="max-w-7xl mx-auto">
                <h1 className="text-4xl font-bold mb-2 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent">Content Moderation Training</h1>
                <p className="text-slate-300 mb-6">Realistic scenario training for gaming moderators</p>
                
                <div className="grid grid-cols-3 gap-4 mb-6">
                  <div className="bg-slate-800/50 rounded-lg p-4 border border-purple-500/20">
                    <div className="text-sm text-slate-400">Cases</div>
                    <div className="text-2xl font-bold">{stats.total}</div>
                  </div>
                  <div className="bg-slate-800/50 rounded-lg p-4 border border-green-500/20">
                    <div className="text-sm text-slate-400">Correct</div>
                    <div className="text-2xl font-bold">{stats.correct}</div>
                  </div>
                  <div className="bg-slate-800/50 rounded-lg p-4 border border-blue-500/20">
                    <div className="text-sm text-slate-400">Accuracy</div>
                    <div className="text-2xl font-bold">{stats.total ? Math.round(stats.correct/stats.total*100) : 0}%</div>
                  </div>
                </div>

                <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                  <div className="lg:col-span-2 bg-slate-800/50 rounded-lg border border-purple-500/20 p-6">
                    <h2 className="text-xl font-bold text-purple-400 mb-4">Case #{currentCase.id}</h2>
                    <div className="text-sm text-slate-400 mb-4">{currentCase.timestamp} | {currentCase.type} | Reported by: {currentCase.reportedBy}</div>
                    
                    <div className="bg-slate-900/80 rounded p-4 border border-red-500/30 mb-6">
                      <div className="text-sm font-semibold text-red-400 mb-2">REPORTED CONTENT</div>
                      <pre className="text-slate-200 whitespace-pre-wrap font-mono text-sm">{currentCase.content}</pre>
                    </div>

                    {!feedback && (
                      <div>
                        <label className="block text-sm text-slate-400 mb-2">Violation Category</label>
                        <select value={decision} onChange={e => setDecision(e.target.value)} className="w-full bg-slate-700 rounded px-3 py-2 mb-4">
                          <option value="">Select...</option>
                          {categories.map(c => <option key={c} value={c}>{c}</option>)}
                        </select>
                        <label className="block text-sm text-slate-400 mb-2">Justification</label>
                        <textarea value={justification} onChange={e => setJustification(e.target.value)} placeholder="Explain reasoning, cite Epic policies, identify red flags..." className="w-full bg-slate-700 rounded px-4 py-3 mb-4 h-32 text-sm"/>
                        <button onClick={submit} disabled={loading} className="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold py-3 rounded-lg">{loading ? 'Evaluating...' : 'Submit Decision'}</button>
                      </div>
                    )}
                  </div>

                  <div className="bg-slate-800/50 rounded-lg border border-purple-500/20 p-6">
                    <h2 className="text-xl font-bold mb-4">Expert Feedback</h2>
                    {!feedback ? (
                      <p className="text-slate-400 text-center py-12 text-sm">Submit your decision to receive feedback</p>
                    ) : (
                      <div className="space-y-4 max-h-[600px] overflow-y-auto">
                        <div className={`p-4 rounded border-2 ${feedback.correct ? 'bg-green-500/10 border-green-500' : 'bg-red-500/10 border-red-500'}`}>
                          <div className="flex justify-between mb-2">
                            <span className="font-bold">{feedback.correct ? 'Correct!' : 'Incorrect'}</span>
                            <span className="text-2xl font-bold">{feedback.score}</span>
                          </div>
                          <div className="text-xs">{feedback.reasoning} reasoning</div>
                        </div>
                        
                        <div className="bg-slate-900/50 rounded p-3">
                          <p className="text-sm">{feedback.overall}</p>
                        </div>

                        {feedback.right?.length > 0 && (
                          <div className="bg-green-500/10 border border-green-500/30 rounded p-3">
                            <div className="font-semibold text-green-400 text-sm mb-2">‚úì What You Got Right</div>
                            <ul className="text-xs space-y-1">{feedback.right.map((i,idx) => <li key={idx}>‚Ä¢ {i}</li>)}</ul>
                          </div>
                        )}

                        {feedback.missed?.length > 0 && (
                          <div className="bg-yellow-500/10 border border-yellow-500/30 rounded p-3">
                            <div className="font-semibold text-yellow-400 text-sm mb-2">! What You Missed</div>
                            <ul className="text-xs space-y-1">{feedback.missed.map((i,idx) => <li key={idx}>‚Ä¢ {i}</li>)}</ul>
                          </div>
                        )}

                        {feedback.flags?.length > 0 && (
                          <div className="bg-red-500/10 border border-red-500/30 rounded p-3">
                            <div className="font-semibold text-red-400 text-sm mb-2">üö© Red Flags</div>
                            <ul className="text-xs space-y-1">{feedback.flags.map((i,idx) => <li key={idx}>‚Ä¢ {i}</li>)}</ul>
                          </div>
                        )}

                        {feedback.nuances && (
                          <div className="bg-blue-500/10 border border-blue-500/30 rounded p-3">
                            <div className="font-semibold text-blue-400 text-sm mb-2">üí° Nuances</div>
                            <p className="text-xs">{feedback.nuances}</p>
                          </div>
                        )}

                        {feedback.impact && (
                          <div className="bg-orange-500/10 border border-orange-500/30 rounded p-3">
                            <div className="font-semibold text-orange-400 text-sm mb-2">‚ö†Ô∏è Real-World Impact</div>
                            <p className="text-xs">{feedback.impact}</p>
                          </div>
                        )}

                        {feedback.tips?.length > 0 && (
                          <div className="bg-green-500/10 border border-green-500/30 rounded p-3">
                            <div className="font-semibold text-green-400 text-sm mb-2">üìà Tips</div>
                            <ul className="text-xs space-y-1">{feedback.tips.map((i,idx) => <li key={idx}>‚Ä¢ {i}</li>)}</ul>
                          </div>
                        )}

                        <button onClick={next} className="w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white font-semibold py-3 rounded-lg">Next Case ‚Üí</button>
                      </div>
                    )}
                  </div>
                </div>
              </div>
            </div>
          );
        };

        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
